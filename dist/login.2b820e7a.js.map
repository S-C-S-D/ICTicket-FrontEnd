{"version":3,"sources":["../src/components/login.js"],"names":["$","document","ready","focus","parent","addClass","blur","removeClass","on","event","preventDefault","requestData","password","val","email","ajax","url","concat","window","SERVER_URL","type","contentType","data","JSON","stringify","xhrFields","withCredentials","crossDomain","success","response","status","xhr","alert","body","message","accessToken","getResponseHeader","refreshToken","localStorage","setItem","location","href","error","jqXHR","responseJSON","click"],"mappings":"AAAAA,CAAC,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,YAAW;EACzBF,CAAC,CAAC,OAAO,CAAC,CAACG,KAAK,CAAC,YAAY;IACzBH,CAAC,CAAC,IAAI,CAAC,CAACI,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,SAAS,CAAC;EACxC,CAAC,CAAC,CAACC,IAAI,CAAC,YAAY;IAChBN,CAAC,CAAC,IAAI,CAAC,CAACI,MAAM,CAAC,CAAC,CAACG,WAAW,CAAC,SAAS,CAAC;EAC3C,CAAC,CAAC;;EAEF;EACAP,CAAC,CAAC,YAAY,CAAC,CAACQ,EAAE,CAAC,QAAQ,EAAE,UAAUC,KAAK,EAAE;IAC1CA,KAAK,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC;;IAExB,IAAMC,WAAW,GAAG;MAChBC,QAAQ,EAAEZ,CAAC,CAAC,WAAW,CAAC,CAACa,GAAG,CAAC,CAAC;MAC9BC,KAAK,EAAEd,CAAC,CAAC,QAAQ,CAAC,CAACa,GAAG,CAAC;IAC3B,CAAC;IAEDb,CAAC,CAACe,IAAI,CAAC;MACHC,GAAG,KAAAC,MAAA,CAAKC,MAAM,CAACC,UAAU,iBAAc;MACvCC,IAAI,EAAE,MAAM;MACZC,WAAW,EAAE,kBAAkB;MAC/BC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,WAAW,CAAC;MACjCc,SAAS,EAAE;QACPC,eAAe,EAAE,IAAI,CAAC;MAC1B,CAAC;MACDC,WAAW,EAAE,IAAI;MACjBC,OAAO,EAAE,SAAAA,QAAUC,QAAQ,EAAEC,MAAM,EAAEC,GAAG,EAAE;QACtC,IAAIA,GAAG,CAACD,MAAM,KAAK,GAAG,EAAE;UACpBE,KAAK,CAACH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC;;UAE5B;UACA,IAAMC,WAAW,GAAGJ,GAAG,CAACK,iBAAiB,CAAC,eAAe,CAAC;UAC1D,IAAMC,YAAY,GAAGN,GAAG,CAACK,iBAAiB,CAAC,cAAc,CAAC;UAE1DE,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEJ,WAAW,CAAC;UAClDG,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEF,YAAY,CAAC;;UAElD;UACAnB,MAAM,CAACsB,QAAQ,CAACC,IAAI,GAAG,MAAM;QACjC;MACJ,CAAC;MACDC,KAAK,EAAE,SAAAA,MAAUC,KAAK,EAAE;QACpB,IAAMd,QAAQ,GAAGc,KAAK,CAACC,YAAY;QACnC,IAAIf,QAAQ,IAAI,IAAI,EAAE;UAClBG,KAAK,CAACH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC;QAChC,CAAC,MAAM;UACHF,KAAK,CAAC,mBAAmB,CAAC;QAC9B;MACJ;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF;EACAhC,CAAC,CAAC,iBAAiB,CAAC,CAAC6C,KAAK,CAAC,YAAY;IACnC3B,MAAM,CAACsB,QAAQ,CAACC,IAAI,GAAG,SAAS;EACpC,CAAC,CAAC;AACN,CAAC,CAAC","file":"login.2b820e7a.js","sourceRoot":"../public","sourcesContent":["$(document).ready(function() {\n    $('input').focus(function () {\n        $(this).parent().addClass('focused');\n    }).blur(function () {\n        $(this).parent().removeClass('focused');\n    });\n\n    // [ 로그인 ]\n    $('#loginForm').on('submit', function (event) {\n        event.preventDefault(); // 기본 폼 제출 동작을 막음\n\n        const requestData = {\n            password: $('#password').val(),\n            email: $('#email').val(),\n        };\n\n        $.ajax({\n            url: `${window.SERVER_URL}/users/login`, \n            type: 'POST',\n            contentType: 'application/json',\n            data: JSON.stringify(requestData),\n            xhrFields: {\n                withCredentials: true // 필요 시 추가\n            },\n            crossDomain: true,\n            success: function (response, status, xhr) {\n                if (xhr.status === 200) {\n                    alert(response.body.message);\n\n                    // 토큰 저장\n                    const accessToken = xhr.getResponseHeader('Authorization');\n                    const refreshToken = xhr.getResponseHeader('RefreshToken');\n\n                    localStorage.setItem('Authorization', accessToken);\n                    localStorage.setItem('RefreshToken', refreshToken);\n\n                    // home.html로 이동\n                    window.location.href = 'home';\n                }\n            },\n            error: function (jqXHR) {\n                const response = jqXHR.responseJSON;\n                if (response != null) {\n                    alert(response.body.message);\n                } else {\n                    alert('로그인 중 오류가 발생했습니다.');\n                }\n            }\n        });\n    });\n\n    //회원가입 페이지로 이동\n    $('#navigateButton').click(function () {\n        window.location.href = '/signup';\n    });\n});"]}