{"version":3,"sources":["../src/components/login.js"],"names":["$","document","ready","focus","parent","addClass","blur","removeClass","on","event","preventDefault","requestData","password","val","email","ajax","url","type","contentType","data","JSON","stringify","xhrFields","withCredentials","crossDomain","success","response","status","xhr","alert","body","message","accessToken","getResponseHeader","refreshToken","localStorage","setItem","window","location","href","error","jqXHR","responseJSON","click"],"mappings":";AAAAA,EAAEC,UAAUC,MAAM,WACdF,EAAE,SAASG,MAAM,WACbH,EAAE,MAAMI,SAASC,SAAS,aAC3BC,KAAK,WACJN,EAAE,MAAMI,SAASG,YAAY,aAIjCP,EAAE,cAAcQ,GAAG,SAAU,SAAUC,GACnCA,EAAMC,iBAEN,IAAMC,EAAc,CAChBC,SAAUZ,EAAE,aAAaa,MACzBC,MAAOd,EAAE,UAAUa,OAGvBb,EAAEe,KAAK,CACHC,IAAK,oCACLC,KAAM,OACNC,YAAa,mBACbC,KAAMC,KAAKC,UAAUV,GACrBW,UAAW,CACPC,iBAAiB,GAErBC,aAAa,EACbC,QAAS,SAAUC,EAAUC,EAAQC,GACjC,GAAmB,MAAfA,EAAID,OAAgB,CACpBE,MAAMH,EAASI,KAAKC,SAGpB,IAAMC,EAAcJ,EAAIK,kBAAkB,iBACpCC,EAAeN,EAAIK,kBAAkB,gBAE3CE,aAAaC,QAAQ,gBAAiBJ,GACtCG,aAAaC,QAAQ,eAAgBF,GAGrCG,OAAOC,SAASC,KAAO,SAG/BC,MAAO,SAAUC,GACb,IAAMf,EAAWe,EAAMC,aACP,MAAZhB,EACAG,MAAMH,EAASI,KAAKC,SAEpBF,MAAM,0BAOtB7B,EAAE,mBAAmB2C,MAAM,WACvBN,OAAOC,SAASC,KAAO","file":"login.3095b270.js","sourceRoot":"../public","sourcesContent":["$(document).ready(function() {\n    $('input').focus(function () {\n        $(this).parent().addClass('focused');\n    }).blur(function () {\n        $(this).parent().removeClass('focused');\n    });\n\n    // [ 로그인 ]\n    $('#loginForm').on('submit', function (event) {\n        event.preventDefault(); // 기본 폼 제출 동작을 막음\n\n        const requestData = {\n            password: $('#password').val(),\n            email: $('#email').val(),\n        };\n\n        $.ajax({\n            url: 'http://localhost:8080/users/login', \n            type: 'POST',\n            contentType: 'application/json',\n            data: JSON.stringify(requestData),\n            xhrFields: {\n                withCredentials: true // 필요 시 추가\n            },\n            crossDomain: true,\n            success: function (response, status, xhr) {\n                if (xhr.status === 200) {\n                    alert(response.body.message);\n\n                    // 토큰 저장\n                    const accessToken = xhr.getResponseHeader('Authorization');\n                    const refreshToken = xhr.getResponseHeader('RefreshToken');\n\n                    localStorage.setItem('Authorization', accessToken);\n                    localStorage.setItem('RefreshToken', refreshToken);\n\n                    // home.html로 이동\n                    window.location.href = 'home';\n                }\n            },\n            error: function (jqXHR) {\n                const response = jqXHR.responseJSON;\n                if (response != null) {\n                    alert(response.body.message);\n                } else {\n                    alert('로그인 중 오류가 발생했습니다.');\n                }\n            }\n        });\n    });\n\n    //회원가입 페이지로 이동\n    $('#navigateButton').click(function () {\n        window.location.href = '/signup';\n    });\n});"]}