{"version":3,"sources":["../src/components/performance-rank-all.js"],"names":["$","document","ready","loadRankAllPerformances","page","ajax","url","concat","window","SERVER_URL","type","success","PerformanceRankResponseDto","console","log","performances","data","performanceListGridDiv","empty","forEach","performance","index","getKoreanGenreName","genreType","genreRankElement","id","imageUrl","title","startAt","endAt","venueName","append","scrollTo","error","xhr","perforamceTodayResponse","JSON","parse","responseText","message","setupPagination","containerSelector","loadFunction","on","pageNumber","text","removeClass","addClass"],"mappings":"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","file":"performance-rank-all.98fffa1f.js","sourceRoot":"../public","sourcesContent":["$(document).ready(function () {\n\n    //[ 할인 중 조회 ]\n    function loadRankAllPerformances(page) {\n        $.ajax({\n            url: `${window.SERVER_URL}/performances/rank-all?page=${page}&size=10`,\n            type: 'GET',\n            success: function (PerformanceRankResponseDto) {\n                console.log(PerformanceRankResponseDto);\n\n                const performances = PerformanceRankResponseDto.data;\n                const performanceListGridDiv = $('.row-table-wrapper');\n\n                performanceListGridDiv.empty();\n\n                console.log(\"page = \"  + page)\n                performances.forEach((performance, index) => {\n\n                    console.log(\"index = \"  + index)\n                    function getKoreanGenreName(genreType) {\n                        switch (genreType) {\n                            case 'MUSICAL':\n                                return '뮤지컬';\n                            case 'CONCERT':\n                                return '콘서트';\n                            case 'FESTIVAL':\n                                return '페스티벌';\n                            case 'SPORTS':\n                                return '스포츠';\n                            case 'EXHIBITION':\n                                return '전시회';\n                            case 'CLASSIC':\n                                return '클래식/무용';\n                            case 'RANKING':\n                                return '랭크';\n                            default:\n                                return '공연'; // 기본값 설정\n                        }\n                    }\n                    const genreRankElement = `\n                        <div class=\"row-wrapper\">\n                            <div class=\"row rank\" data-rank=\"${(page * 10) - (9 - index)}\">${(page * 10) - (9 - index)}</div>\n                            <a href=\"/performances/${performance.id}\">\n                                <div class=\"row title\" data-id=\"${performance.id}\">\n                                    <img class=\"performance-image\" src=\"${performance.imageUrl}\">\n                                    <div class=\"info-wrapper\">\n                                        <span class=\"performance-genre\">${getKoreanGenreName(performance.genreType)}</span>\n                                        <span class=\"performance-title\">${performance.title}</span>\n                                    </div>\n                                </div>\n                            </a>\n                            <div class=\"row location\">\n                                <div class=\"location-wrapper\">\n                                    <span class=\"performance-date\">${performance.startAt} ~ ${performance.endAt}</span>\n                                    <span class=\"performance-venue\">${performance.venueName}</span>\n                                </div>\n                            </div>\n                            <div class=\"row reserve\">\n                                <div id=\"reserveBtn\" data-id=\"${performance.id}\">\n                                    예매하기\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                    performanceListGridDiv.append(genreRankElement);\n                });\n                window.scrollTo(0, 0);\n\n            },\n            error: function (xhr) {\n                const perforamceTodayResponse = JSON.parse(xhr.responseText);\n                console.log(perforamceTodayResponse.message);\n            }\n        });\n    }\n\n    loadRankAllPerformances(1)\n\n    function setupPagination(containerSelector, loadFunction) {\n        $(containerSelector).on('click', '.page-num', function () {\n            var pageNumber = $(this).text();\n\n            $(containerSelector + ' > .page-wrapper > .page-num').removeClass('active');\n            $(this).addClass('active');\n\n            loadFunction(pageNumber);\n        });\n    }\n\n    setupPagination('.inner', loadRankAllPerformances);\n});"]}