{"version":3,"sources":["../src/components/main-banner.js"],"names":["$","document","ready","$slider","$dots","$images","children","imageCount","length","isDragging","startPos","currentTranslate","prevTranslate","currentIndex","movedBy","getPositionX","event","type","includes","pageX","originalEvent","touches","clientX","setSliderPosition","css","concat","setPositionByIndex","animate","width","updateDots","each","index","toggleClass","on","addClass","preventDefault","removeClass","Math","abs","currentPosition","url","find","data","window","location","href"],"mappings":";AAAAA,EAAEC,UAAUC,MAAM,WACd,IAAMC,EAAUH,EAAE,WACZI,EAAQJ,EAAE,QACVK,EAAUF,EAAQG,SAAS,KAC3BC,EAAaF,EAAQG,OACvBC,GAAa,EACbC,EAAW,EACXC,EAAmB,EACnBC,EAAgB,EAChBC,EAAe,EACfC,EAAU,EA2Dd,SAASC,EAAaC,GAClB,OAAOA,EAAMC,KAAKC,SAAS,SAAWF,EAAMG,MAAQH,EAAMI,cAAcC,QAAQ,GAAGC,QAGvF,SAASC,IACLpB,EAAQqB,IAAI,YAAWC,cAAAA,OAAgBd,EAAqB,QAGhE,SAASe,EAAmBC,GACpBA,EACAxB,EAAQqB,IAAI,aAAc,2BAE1BrB,EAAQqB,IAAI,aAAc,QAE9Bb,EAAmBE,GAAgBV,EAAQyB,QAC3ChB,EAAgBD,EAChBY,IAGJ,SAASM,IACLzB,EAAM0B,KAAK,SAASC,GAChB/B,EAAE,MAAMgC,YAAY,SAAUD,IAAUlB,KA9EhDV,EAAQ8B,GAAG,uBAAwB,SAASjB,GACxCP,GAAa,EACbC,EAAWK,EAAaC,GACxBb,EAAQ+B,SAAS,YACjBpB,EAAU,EACVE,EAAMmB,mBAGVhC,EAAQ8B,GAAG,8BAA+B,SAASjB,GAC/CP,GAAa,EACbN,EAAQiC,YAAY,YAIpBtB,EADuBH,EAAmBC,EAItCyB,KAAKC,IAAIxB,GAAW,KAIpBA,GAAW,IACXD,GAAgBA,EAAe,GAAKN,EAC7BO,EAAU,MACjBD,GAAgBA,EAAe,EAAIN,GAAcA,GAGrDmB,GAAmB,GACnBG,OAGJ1B,EAAQ8B,GAAG,sBAAuB,SAASjB,GACvC,GAAIP,EAAY,CACZ,IAAM8B,EAAkBxB,EAAaC,GACrCL,EAAmBC,EAAgB2B,EAAkB7B,EACrDa,IACAP,EAAMmB,oBAId9B,EAAQ4B,GAAG,QAAS,SAASjB,GAEzB,GAAIqB,KAAKC,IAAIxB,IAAY,GACrBE,EAAMmB,qBADV,CAKA,IAAMK,EAAMxC,EAAE,MAAMyC,KAAK,OAAOC,KAAK,OACrCC,OAAOC,SAASC,KAAOL,KAG3BpC,EAAM6B,GAAG,QAAS,WACdpB,EAAeb,EAAE,MAAM+B,QACvBL,GAAmB,GACnBG,MA4BJ1B,EAAQ8B,GAAG,gBAAiB,WACpBpB,IAAiBN,GACjBJ,EAAQqB,IAAI,aAAc,QAC1BX,EAAe,EACfa,GAAmB,KACM,IAAlBb,IACPV,EAAQqB,IAAI,aAAc,QAC1BX,EAAeN,EAAa,EAC5BmB,GAAmB,MAI3BG","file":"main-banner.47525b03.js","sourceRoot":"../public","sourcesContent":["$(document).ready(function() {\n    const $slider = $('.slider');\n    const $dots = $('.dot');\n    const $images = $slider.children('a');\n    const imageCount = $images.length;\n    let isDragging = false;\n    let startPos = 0;\n    let currentTranslate = 0;\n    let prevTranslate = 0;\n    let currentIndex = 0;\n    let movedBy = 0; // 이동 거리 기록\n\n    $slider.on('mousedown touchstart', function(event) {\n        isDragging = true;\n        startPos = getPositionX(event);\n        $slider.addClass('grabbing');\n        movedBy = 0; // 이동 초기화\n        event.preventDefault(); // 기본 드래그 앤 드롭 기능 비활성화\n    });\n\n    $slider.on('mouseup mouseleave touchend', function(event) {\n        isDragging = false;\n        $slider.removeClass('grabbing');\n\n        // 이동 거리 계산\n        const finalTranslate = currentTranslate - prevTranslate;\n        movedBy = finalTranslate;\n\n        // 드래그가 너무 짧으면 클릭으로 간주\n        if (Math.abs(movedBy) < 10) {\n            return; // 클릭 이벤트로 처리하지 않음\n        }\n\n        if (movedBy < -100) {\n            currentIndex = (currentIndex + 1) % imageCount;\n        } else if (movedBy > 100) {\n            currentIndex = (currentIndex - 1 + imageCount) % imageCount;\n        }\n\n        setPositionByIndex(true);\n        updateDots();\n    });\n\n    $slider.on('mousemove touchmove', function(event) {\n        if (isDragging) {\n            const currentPosition = getPositionX(event);\n            currentTranslate = prevTranslate + currentPosition - startPos;\n            setSliderPosition();\n            event.preventDefault(); // 기본 드래그 앤 드롭 기능 비활성화\n        }\n    });\n\n    $images.on('click', function(event) {\n        // 스와이프가 이루어졌다면 클릭 이벤트 무시\n        if (Math.abs(movedBy) >= 10) {\n            event.preventDefault(); // 클릭 이벤트 기본 동작 방지\n            return; // 클릭 이벤트 무시\n        }\n\n        const url = $(this).find('img').data('url'); // img의 data-url 가져오기\n        window.location.href = url;\n    });\n\n    $dots.on('click', function() {\n        currentIndex = $(this).index();\n        setPositionByIndex(true);\n        updateDots();\n    });\n\n    function getPositionX(event) {\n        return event.type.includes('mouse') ? event.pageX : event.originalEvent.touches[0].clientX;\n    }\n\n    function setSliderPosition() {\n        $slider.css('transform', `translateX(${currentTranslate}px)`);\n    }\n\n    function setPositionByIndex(animate) {\n        if (animate) {\n            $slider.css('transition', 'transform 0.3s ease-out');\n        } else {\n            $slider.css('transition', 'none');\n        }\n        currentTranslate = currentIndex * -$slider.width();\n        prevTranslate = currentTranslate;\n        setSliderPosition();\n    }\n\n    function updateDots() {\n        $dots.each(function(index) {\n            $(this).toggleClass('active', index === currentIndex);\n        });\n    }\n\n    $slider.on('transitionend', function() {\n        if (currentIndex === imageCount) {\n            $slider.css('transition', 'none');\n            currentIndex = 0;\n            setPositionByIndex(false);\n        } else if (currentIndex === -1) {\n            $slider.css('transition', 'none');\n            currentIndex = imageCount - 1;\n            setPositionByIndex(false);\n        }\n    });\n\n    updateDots();\n});\n"]}